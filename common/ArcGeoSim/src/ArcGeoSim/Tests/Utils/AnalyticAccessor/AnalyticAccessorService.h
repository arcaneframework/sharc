#ifndef COORESARCANE_ANALYTICSOLUTION_ANALYTICACCESSOR_ANALYTICACCESSORSERVICE_H
#define COORESARCANE_ANALYTICSOLUTION_ANALYTICACCESSOR_ANALYTICACCESSORSERVICE_H
/* Author : desrozis at Wed Dec 17 18:21:21 2008
 * Generated by createNew
 */

#include "ArcGeoSim/Tests/Utils/IDataAccessor.h"

using namespace Arcane;

#include "ArcGeoSim/Numerics/Expressions/IFunctionR3vR1.h"

#include "AnalyticAccessor_axl.h"

#include "ArcGeoSim/Mesh/Geometry/IGeometryMng.h"
#include "ArcGeoSim/Mesh/Geometry/IGeometry2DMng.h"

#include <boost/shared_ptr.hpp>

class AnalyticAccessorService : public ArcaneAnalyticAccessorObject
{
public:
  /** Constructeur de la classe */
  AnalyticAccessorService(const Arcane::ServiceBuildInfo & sbi) :
    ArcaneAnalyticAccessorObject(sbi), m_ivariable_is_created(false),
        m_ivariable(NULL), m_mesh_variable(), m_geometry_mng(NULL)
  {
    ;
  }

  /** Destructeur de la classe */
  virtual
  ~AnalyticAccessorService()
  {
  }

public:

  //! Initialisation
  void
  init(const ItemGroup& group);

  //! Getting view of data
  IVariable *
  variable(const ItemGroup& group);

private:

  //! Creating analytic data view
  void
  createVariable(const ItemGroup& group);

private:

  bool m_ivariable_is_created;

  //! Analytic variable
  IVariable * m_ivariable;

  //! Mesh Variable
  boost::shared_ptr<ItemVariableScalarRefT<Real> > m_mesh_variable;

  //! Geometry manager service
  IGeometryMng * m_geometry_mng;


};

#endif /* COORESARCANE_ANALYTICSOLUTION_ANALYTICACCESSOR_ANALYTICACCESSORSERVICE_H */
