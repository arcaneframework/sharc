// -*- C++ -*-
/* Author : dechaiss at Fri Jun 24 13:50:31 2011
 * Generated by createNew
 */

/* INFO: Les services et modules se conforment maintenant à la politique Arcane core.
 *       L'emploi des .h était fictif. 
 *       Désormais les déclarations de classe pour les modules et services seront
 *       localisées dans le fichier .cc correspondant.
 */

/*---------------------------------------------------------------------------*/
/*---------------------------------------------------------------------------*/

#include "ArcGeoSim/Numerics/Expressions/UnsteadyRegularGridData/UnsteadyRegularGridData.h"
#include "ArcGeoSim/Numerics/Expressions/UnsteadyRegularGridData/LinearInterpGridDataFunction/LinearInterpGridDataInterpolator.h"

#include "LinearInterpGridDataFunction_axl.h"

/*---------------------------------------------------------------------------*/
/*---------------------------------------------------------------------------*/

class LinearInterpGridDataFunctionService 
  : public ArcaneLinearInterpGridDataFunctionObject
  , public UnsteadyRegularGridDataT<LinearInterpGridDataInterpolator>
{
public:
  
  /** Constructeur de la classe */
  LinearInterpGridDataFunctionService(const Arcane::ServiceBuildInfo & sbi) 
    : ArcaneLinearInterpGridDataFunctionObject(sbi)
    , UnsteadyRegularGridDataT<LinearInterpGridDataInterpolator>(traceMng(), subDomain()->ioMng()) {}
  
  /** Destructeur de la classe */
  ~LinearInterpGridDataFunctionService() {}
  
public:

  //! Initialisation
  void init();

};

/*---------------------------------------------------------------------------*/
/*---------------------------------------------------------------------------*/

void 
LinearInterpGridDataFunctionService::
init()
{
  // Set grid type from option
  setRegularGridType(options()->gridType());

  // Read Regular Grid Data
  setPoints(options()->filename());

  // Initialize object
  UnsteadyRegularGridDataT<LinearInterpGridDataInterpolator>::init();
}

/*---------------------------------------------------------------------------*/


/*---------------------------------------------------------------------------*/
/*---------------------------------------------------------------------------*/

using namespace Arcane;
ARCANE_REGISTER_SERVICE_LINEARINTERPGRIDDATAFUNCTION(LinearInterpGridDataFunction,LinearInterpGridDataFunctionService);
