/* Author : dechaiss at Thu Apr 22 16:20:22 2010
 * Generated by createNew
 */

 /* INFO: Les services et modules se conforment maintenant à la politique Arcane core.
 *       L'emploi des .h était fictif. 
 *       Désormais les déclarations de classe pour les modules et services seront
 *       localisées dans le fichier .cc correspondant.
 */

/*---------------------------------------------------------------------------*/
/*---------------------------------------------------------------------------*/

#include "ArcGeoSim/Numerics/Expressions/UnsteadyRegularGridData/UnsteadyRegularGridData.h"
#include "ArcGeoSim/Numerics/Expressions/UnsteadyRegularGridData/OnePointInterpGridDataFunction/OnePointGridDataInterpolator.h"

#include "OnePointInterpGridDataFunction_axl.h"

/*---------------------------------------------------------------------------*/
/*---------------------------------------------------------------------------*/

class OnePointInterpGridDataFunctionService : public ArcaneOnePointInterpGridDataFunctionObject,
    public UnsteadyRegularGridDataT<OnePointGridDataInterpolator>
{
public:
  /** Constructeur de la classe */
  OnePointInterpGridDataFunctionService(const Arcane::ServiceBuildInfo & sbi) :
    ArcaneOnePointInterpGridDataFunctionObject(sbi), UnsteadyRegularGridDataT<
        OnePointGridDataInterpolator> (traceMng(), subDomain()->ioMng())
  {
    ;
  }

  /** Destructeur de la classe */
  virtual
  ~OnePointInterpGridDataFunctionService()
  {
  }

public:

  //! Initialization
  void
  init();

};

/*---------------------------------------------------------------------------*/
/*---------------------------------------------------------------------------*/

void
OnePointInterpGridDataFunctionService::init()
{
  // Set grid type from option
  setRegularGridType(options()->gridType());

  // Read Regular Grid Data
  setPoints(options()->filename());

  // Initialize object
  UnsteadyRegularGridDataT<OnePointGridDataInterpolator>::init();
}

/*---------------------------------------------------------------------------*/
/*---------------------------------------------------------------------------*/

ARCANE_REGISTER_SERVICE_ONEPOINTINTERPGRIDDATAFUNCTION(OnePointInterpGridDataFunction,OnePointInterpGridDataFunctionService);
