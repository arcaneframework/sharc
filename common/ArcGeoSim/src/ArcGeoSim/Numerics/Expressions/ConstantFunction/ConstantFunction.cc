#include "ConstantFunction.h"
/* Author : desrozis at Mon Feb 16 17:26:13 2009
 * Generated by createNew
 */

#include <arcane/utils/FatalErrorException.h>
#include <arcane/utils/TraceInfo.h>
#include <arcane/ArcaneVersion.h>

/*---------------------------------------------------------------------------*/

void 
ConstantFunction::
init()
{
  ;
}

/*---------------------------------------------------------------------------*/

void  
ConstantFunction::
setParameter(const String & name, const Real & parameter)
{
  m_trace_mng->fatal() << "No parameter for ConstantFunction";
}

/*---------------------------------------------------------------------------*/

void  
ConstantFunction::
setParameter(Integer index, const Real & parameter)
{
  m_trace_mng->fatal() << "No parameter for ConstantFunction";
}

/*---------------------------------------------------------------------------*/

Integer  
ConstantFunction::
nbParameter() const
{
  return 0;
}

/*---------------------------------------------------------------------------*/

String  
ConstantFunction::
parameterName(Integer index) const
{
  throw FatalErrorException(A_FUNCINFO,"No parameter for PieceWiseFunction");
}

/*---------------------------------------------------------------------------*/

void 
ConstantFunction::
setVariable(const String & name, const Array<Real> & variable)
{
	if(name != m_name)
	{
		m_trace_mng->fatal() << "Cannot set variable data for undefined variable '" << name << "'";
	}
	m_trace_mng->info() << A_FUNCINFO << " set variable not used";
}

/*---------------------------------------------------------------------------*/

void
ConstantFunction::
setVariable(Integer index, const Array<Real> & variable)
{
  if (index != 0)
  {
    m_trace_mng->fatal() << "Cannot set variable data for undefined variable position " << index;
  }
  m_trace_mng->info() << A_FUNCINFO << " set variable not used";
}
  
/*---------------------------------------------------------------------------*/

  Integer  
ConstantFunction::
nbVariable() const
{
  return 1;
}

/*---------------------------------------------------------------------------*/

String 
ConstantFunction::
variableName(Integer index) const
{
  if(index != 0)
  {
    m_trace_mng->fatal() << "Variable index " << index << " not defined for PieceWiseFunction";
  }
  return m_name;
}

/*---------------------------------------------------------------------------*/

void
ConstantFunction::
setEvaluationResult(Array<Real> & result)
{
	m_eval_result.setArray(result);
}

/*---------------------------------------------------------------------------*/

void
ConstantFunction::
setDerivationResult(Integer di, Array<Real> & result)
{
	if (di != 0)
	{
		m_trace_mng->fatal() << "Cannot derive following undefined variable index " << di;
	}
	m_diff_result.setArray(result);
}

/*---------------------------------------------------------------------------*/

void  
ConstantFunction::
setDerivationResult(const String & di, Array<Real> & result)
{
	if (di != m_name)
	{
		m_trace_mng->fatal() << "Cannot derive following undefined variable '" << m_name << "'";
	}
	m_diff_result.setArray(result);
}

/*---------------------------------------------------------------------------*/

void  
ConstantFunction::
eval()
{
  m_eval_result.fill(m_value);
}

/*---------------------------------------------------------------------------*/

void  
ConstantFunction::
cleanup()
{
  m_eval_result = RealArrayView();
  m_diff_result = RealArrayView();
}

/*---------------------------------------------------------------------------*/

Real  
ConstantFunction::
eval(const Real & var0)
{
  return m_value;
}

/*---------------------------------------------------------------------------*/

void  
ConstantFunction::
eval(const Real & var0,
     Real & res0)
{
  res0 = m_value;
}

/*---------------------------------------------------------------------------*/

void
ConstantFunction::
eval(const Array<Real> & var0,
		Array<Real> & res0)
{
	res0.fill(m_value);
}

/*---------------------------------------------------------------------------*/

void  
ConstantFunction::
eval(const ConstArrayView<Real> var0,
     ArrayView<Real> res0)
{
  res0.fill(m_value);
}

/*---------------------------------------------------------------------------*/

void
ConstantFunction::
setVariableName(const String & name)
{
  m_name = name;
}

/*---------------------------------------------------------------------------*/

void
ConstantFunction::
setConstant(const Real & value)
{
  m_value = value;
}

/*---------------------------------------------------------------------------*/
/*---------------------------------------------------------------------------*/
