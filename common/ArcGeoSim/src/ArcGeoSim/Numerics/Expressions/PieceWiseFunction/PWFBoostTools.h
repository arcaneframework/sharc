// -*- C++ -*-
#ifndef PWFBOOSTARRAY2_H_
#define PWFBOOSTARRAY2_H_

/* Author : dechaiss at Aug 28, 2014 3:41:04 PM 2014
 * Generated by createNew
 */

#include <boost/multi_array.hpp>

class PWFBoostTools
{
public:
  typedef boost::multi_array<Arcane::Real,2> PWFArray2;
  typedef PWFArray2::array_view<2>::type  PWFArray2View;
  typedef PWFArray2::index_range MatrixRange;
  typedef PWFArray2::index_gen MatrixIndice;
  typedef PWFArray2::extent_gen MatrixExtent;
  typedef PWFArray2::array_view<1>::type  PWFArrayView;
public:
  Arcane::Integer dim1Size(PWFArray2& data) {return data.shape()[0];}
  Arcane::Integer dim2Size(PWFArray2& data) {return data.shape()[1];}
  void resize(PWFArray2& data, const Arcane::Integer row_size, const Arcane::Integer column_size)
  {
    data.resize(m_extents[row_size][column_size]);
  }
  PWFArray2View view(PWFArray2& data,
                const Arcane::Integer dim1_first_index, const Arcane::Integer dim1_last_index,
                const Arcane::Integer dim2_first_index, const Arcane::Integer dim2_last_index)
  {
    return data[m_indices[MatrixRange(dim1_first_index,dim1_last_index)]
                         [MatrixRange(dim2_first_index,dim2_last_index)]];
  }
  void fillDim1(PWFArray2& data, const Arcane::Integer dim2_index, const Arcane::Real value)
  {
    PWFArrayView view = data[m_indices[MatrixRange()][dim2_index]];
    std::fill(view.begin(), view.end(), value);
  }
  void fillDim2(PWFArray2& data, const Arcane::Integer dim1_index, const Arcane::Real value)
  {
    PWFArrayView view = data[m_indices[dim1_index][MatrixRange()]];
    std::fill(view.begin(), view.end(), value);
  }
  void print(PWFArray2 data, ostream& o)
  {
    for (Arcane::Integer i = 0; i < dim1Size(data); ++i)
      {
        for (Arcane::Integer j = 0; j < dim2Size(data); ++j)
          {
            o << "\"";
            Arcane::Real r = data[i][j];
            o << r;
            o << "\"";
          }
      }
  }
    void fill(PWFArray2& data, const Arcane::Real value)
    {
      for (Arcane::Integer i = 0; i < data.shape()[0]; ++i) {
        for (Arcane::Integer j = 0; j < data.shape()[1]; ++j) {
          data[i][j] = value;
        }
      }
    }

private :
  MatrixIndice m_indices;
  MatrixExtent m_extents;

};

typedef PWFBoostTools PWFDataTools;

#endif /* PWFBOOSTARRAY2_H_ */
