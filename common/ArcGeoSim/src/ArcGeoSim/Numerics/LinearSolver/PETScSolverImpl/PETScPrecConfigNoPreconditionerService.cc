/* Author : havep at Fri Jun 27 21:39:25 2008
 * Generated by createNew
 */

#include "ArcGeoSim/Numerics/LinearAlgebra2/PETScImpl/PETScPrecomp.h"
#include "ArcGeoSim/Numerics/LinearSolver/PETScSolverImpl/IPETScPC.h"

using namespace Arcane;
using namespace ArcGeoSim::Numerics;
#include "PETScPrecConfigNoPreconditioner_axl.h"

/*---------------------------------------------------------------------------*/
/*---------------------------------------------------------------------------*/

// BEGIN_LINEARALGEBRA2SERVICE_NAMESPACE

/*---------------------------------------------------------------------------*/
/*---------------------------------------------------------------------------*/

class PETScPrecConfigNoPreconditionerService :
  public ArcanePETScPrecConfigNoPreconditionerObject
{
public:
  /** Constructeur de la classe */
  PETScPrecConfigNoPreconditionerService(const Arcane::ServiceBuildInfo & sbi) : 
    ArcanePETScPrecConfigNoPreconditionerObject(sbi) 
    {
      ;
    }
  
  /** Destructeur de la classe */
  virtual ~PETScPrecConfigNoPreconditionerService() {}

public:

  //! Initialisation
  void configure(PC & pc, const Alien::IIndexManager * indexManager);

  //! Indicateur de support de résolution parallèle
  bool hasParallelSupport() const { return true; }

  //! Check need of KSPSetUp before calling this PC configure
  bool needPrematureKSPSetUp() const;

public:
  //! Acces to TraceMng
  ITraceMng * traceMng() const { return BasicService::traceMng();  }
};

/*---------------------------------------------------------------------------*/
/*---------------------------------------------------------------------------*/

void 
PETScPrecConfigNoPreconditionerService::
configure(PC & pc, const Alien::IIndexManager * indexManager)
{
  checkError("Set preconditioner",PCSetType(pc,PCNONE));
}

/*---------------------------------------------------------------------------*/

bool
PETScPrecConfigNoPreconditionerService::
needPrematureKSPSetUp() const
{
  return false;
}

/*---------------------------------------------------------------------------*/
/*---------------------------------------------------------------------------*/

ARCANE_REGISTER_SERVICE_PETSCPRECCONFIGNOPRECONDITIONER(NoPreconditioner,PETScPrecConfigNoPreconditionerService);
ARCANE_REGISTER_SERVICE_PETSCPRECCONFIGNOPRECONDITIONER(NoPrec,PETScPrecConfigNoPreconditionerService);

/*---------------------------------------------------------------------------*/
/*---------------------------------------------------------------------------*/

// END_LINEARALGEBRA2SERVICE_NAMESPACE

/*---------------------------------------------------------------------------*/
/*---------------------------------------------------------------------------*/
