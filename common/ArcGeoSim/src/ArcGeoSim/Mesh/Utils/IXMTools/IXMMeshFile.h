// -*- C++ -*-
#ifndef ARCGEOSIM_ARCGEOSIM_MESH_UTILS_IXMTOOLS_IXMMESHFILE_H
#define ARCGEOSIM_ARCGEOSIM_MESH_UTILS_IXMTOOLS_IXMMESHFILE_H
/* Author : dechaiss at Thu Oct 11 10:49:31 2012
 * Generated by createNew
 */

#include <arcane/IIOMng.h>

#include "ArcGeoSim/Utils/ArcGeoSim.h"

BEGIN_ARCGEOSIM_NAMESPACE

enum eIXMMeshVersion
{
  UndefinedIXMVersion, IXMV3, IXMV4,IXMV4_1_0
};

class IXMMeshVersion
{
public :
  IXMMeshVersion();
  IXMMeshVersion(const eIXMMeshVersion& mesh_version);
  IXMMeshVersion(const Arcane::String& mesh_version);

  void operator= (const Arcane::String& mesh_version) {_versionFromString(mesh_version);}
  void operator= (const eIXMMeshVersion& mesh_version) {_versionFromEnum(mesh_version);}

  bool operator== (const IXMMeshVersion& mesh_version) const;
  bool operator!= (const IXMMeshVersion& mesh_version)  const {return !(mesh_version == *this);}

  eIXMMeshVersion operator() () {return internal_version;}
  Arcane::String& str() {return internal_string;}

private:

  eIXMMeshVersion internal_version;
  Arcane::String internal_string;

  void _versionFromString(const Arcane::String& version);
  void _versionFromEnum(const eIXMMeshVersion& version);
};



class IXMMeshFile
{
public:
  
  /** Constructeur de la classe */
  IXMMeshFile(const Arcane::String& filename);
  
  /** Destructeur de la classe */
  virtual ~IXMMeshFile() {}
  
public:
  IXMMeshFile& operator() (Arcane::IIOMng* io_mng,const Arcane::String& schema_name, const Arcane::ByteConstArrayView schema_data);
  Arcane::IXmlDocumentHolder* operator() () const {return m_xml_doc;}


  IXMMeshVersion version(Arcane::IIOMng* io_mng,Arcane::IParallelMng* parallel_mng);

  Arcane::String path();

private:

  Arcane::String m_filename;
  Arcane::IXmlDocumentHolder* m_xml_doc;
  IXMMeshVersion m_mesh_version;

};

END_ARCGEOSIM_NAMESPACE

Arcane::IXmlDocumentHolder* operator<<(Arcane::IXmlDocumentHolder* & xml_doc, const ArcGeoSim::IXMMeshFile& mesh_file);

#endif /* ARCGEOSIM_ARCGEOSIM_MESH_UTILS_IXMTOOLS_IXMMESHFILE_H */
