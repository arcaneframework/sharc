// -*- tab-width: 2; indent-tabs-mode: nil; coding: utf-8-with-signature -*-
//-----------------------------------------------------------------------------
// Copyright 2000-2025 CEA (www.cea.fr) IFPEN (www.ifpenergiesnouvelles.com)
// See the top-level COPYRIGHT file for details.
// SPDX-License-Identifier: Apache-2.0
//-----------------------------------------------------------------------------
#ifndef ARCGEOSIM_ARCGEOSIM_SURFACEUTILS_ICONTACTFAMILY_H
#define ARCGEOSIM_ARCGEOSIM_SURFACEUTILS_ICONTACTFAMILY_H
/* Author : havep at Tue Jul  9 18:04:11 2013
 * Generated by createNew
 */

#include <arcane/ArcaneTypes.h>
#include "ArcGeoSim/Mesh/SurfaceUtils/ContactGroup.h"

// Prdeclaration
class IContactVariable;
class ContactGroupImpl;
class ContactSharedInfo;

//! Famille de contact
/*! Mime les comportements des ItemFamily de Arcane */
class IContactFamily
{
public:
  //! Constructeur de la classe
  IContactFamily() { }
  
  //! Destructeur de la classe
  virtual ~IContactFamily() { }

public:
  //! Types de contact
  enum eContactKind { IK_FaceFace, IK_NodeFace };

public:

  //! Nom de la famille
  virtual const String& name() const = 0;

  //! Genre de la premiere entite du contact
  virtual eContactKind contactKind() const = 0;

  //! Nombre d'entites.
  virtual Integer nbContact() const = 0;

  //! Taille necessaire pour dimensionner les variables sur ces contacts
  virtual Int32 maxLocalId() const = 0;
  
  //! Groupe de tous les contacts
  virtual ContactGroup allContacts() = 0;

  //! Ajout d'une variable sur la famille
  virtual void registerVariable(IContactVariable * var) = 0;

  //! Retrait d'une variable sur la famille
  virtual void unregisterVariable(IContactVariable * var) = 0;

  //! Ajout d'un contact
  virtual Int32 addContact(const Int32 lid1, const Int32 lid2) = 0;

  //! Acces aux internals des contacts
  /*! \return pointeur sur le tableau des internals */
  virtual ContactInternal * contactsInternal() = 0;
  virtual const ContactInternal * contactsInternal() const = 0;

  //! Creation d'un groupe sur la famille
  virtual ContactGroup createGroup(const String & name) = 0;

  //! Creation d'un groupe sur la famille
  virtual ContactGroup findGroup(const String & name) = 0;

  //! Informe la famille d'un changement sur un groupe
  virtual void notifyGroupChange(ContactGroupImpl * group) = 0;

  //! Synchroniser sur toutes les entites de la famille
  virtual Arcane::IVariableSynchronizer* allItemsSynchronizer() = 0;

  //! Calcul des entite fantomes. Cette operation est collective.
  virtual void computeSynchronizeInfos() = 0;

  //! Fin de remplissage de la famille
  virtual void endUpdate() = 0;

  virtual void updateInternalList() = 0;

  //! Acces aux donnees partagees des contacts
  virtual ContactSharedInfo* sharedInfo() = 0;

  //! Acces au maillage associe
  virtual Arcane::IMesh* mesh() const = 0;


};

#endif /* ARCGEOSIM_ARCGEOSIM_SURFACEUTILS_ICONTACTFAMILY_H */
